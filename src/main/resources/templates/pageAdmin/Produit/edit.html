<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Modifier un Produit</title>

    <!-- Bootstrap -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>

<body class="p-4">

<h1 class="mb-4">✏ Modifier le Produit</h1>

<!--
    th:object = l’objet Product envoyé par le contrôleur
    ATTENTION :
    On doit inclure l'ID dans l'URL POST de manière dynamique :
    @{'/admin/produit/edit/' + ${produit.id}}
-->
<form th:action="@{'/admin/produit/edit/' + ${produit.id}}" th:object="${produit}" method="post" class="w-50">

    <!-- ID caché (obligatoire pour sauvegarder) -->
    <input th:field="*{id}" type="hidden">

    <!-- Champ NOM -->
    <div class="mb-3">
        <label class="form-label">Nom du produit :</label>
        <input th:field="*{nom}" type="text" class="form-control" required>
    </div>

    <!-- Champ DESCRIPTION -->
    <div class="mb-3">
        <label class="form-label">Description :</label>
        <textarea th:field="*{description}" class="form-control" rows="3"></textarea>
    </div>

    <!-- Champ IMAGE -->
    <div class="mb-3">
        <label class="form-label">Lien Image :</label>
        <input th:field="*{lienImage}" type="text" class="form-control">
    </div>

    <!-- Champ PRIX -->
    <div class="mb-3">
        <label class="form-label">Prix (€) :</label>
        <input th:field="*{prix}" type="number" step="0.01" class="form-control" required>
    </div>

    <!-- Champ STOCK -->
    <div class="mb-3">
        <label class="form-label">Stock :</label>
        <input th:field="*{stock}" type="number" min="0" class="form-control" required>
    </div>

    <!-- Boutons -->
    <button type="submit" class="btn btn-primary">Enregistrer</button>
    <a href="/admin/produit" class="btn btn-secondary">Annuler</a>

</form>

</body>
</html>
